import{g as p,s as S,u as f,p as g}from"./showToast-C3n-2NKs.js";const P=(a,e)=>{let r=p().find(l=>l.id===a),n=1;return r&&(n=r.productQuantity,e=r.price),{quantity:n,price:e}},y=()=>{let a=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),o=document.querySelector(".productTax"),r=p(),n=0,l=r.reduce((u,i)=>{let s=parseInt(i.price)||0;return u+s},n),t=r.map(u=>u.productQuantity).reduce((u,i)=>u+=i,n),c;t<2?c=75*t:t<5?c=60*t:t<10?c=50*t:c=40*t,a.innerText=`₹${l}`,o.innerText=`₹${c}`,e.innerText=`₹${l+c}`},C=(a,e,o,r)=>{const n=document.querySelector(`#card${e}`),l=n.querySelector(".productQuantity"),d=n.querySelector(".productPrice");let t=1,c=0,u=p(),i=u.find(m=>m.id===e);i?(t=i.productQuantity,c=i.price):(c=r,r=r),a.target.className==="cartIncrement"&&(t<o?t+=1:t===o&&(t=o,c=r*o)),a.target.className==="cartDecrement"&&t>1&&(t-=1),c=r*t;let s={id:e,productQuantity:t,price:c};s=u.map(m=>m.id===e?s:m),l.innerText=t,d.innerText=c,localStorage.setItem("cartProductLS",JSON.stringify(s)),y()},q=a=>{let e=p();e=e.filter(r=>r.id!==a),localStorage.setItem("cartProductLS",JSON.stringify(e));let o=document.getElementById(`card${a}`);o&&(o.remove(),S("delete",a)),f(e),y()};let T=p(),x=g.filter(a=>T.some(e=>e.id===a.id));const h=document.querySelector("#productCartContainer"),L=document.querySelector("#productCartTemplate"),Q=()=>{x.forEach(a=>{const{category:e,id:o,image:r,name:n,stock:l,price:d}=a;let t=document.importNode(L.content,!0);const c=P(o,d);t.querySelector(".category").textContent=e,t.querySelector("#cardValue").setAttribute("id",`card${o}`),t.querySelector(".productName").textContent=n,t.querySelector(".productImage").src=r,t.querySelector(".productQuantity").textContent=c.quantity,t.querySelector(".productPrice").textContent=c.price,t.querySelector(".remove-to-cart-button").addEventListener("click",()=>{q(o)}),t.querySelector(".stockElement").addEventListener("click",u=>{C(u,o,l,d)}),h.append(t)})};Q();y();
